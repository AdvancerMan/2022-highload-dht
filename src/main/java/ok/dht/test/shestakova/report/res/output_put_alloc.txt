alina@alina-VivoBook-ASUSLaptop-X580GD-N580GD:~/Home/technopolis/2022-highload-dht/async-profiler$ wrk -t 1 -c 1 -d 1m -R 45000 -s put.lua -L http://localhost:19234
Running 1m test @ http://localhost:19234
  1 threads and 1 connections
  Thread calibration: mean lat.: 65.427ms, rate sampling interval: 289ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     0.96ms    1.13ms  10.56ms   91.13%
    Req/Sec    37.41k    16.87k   46.15k    83.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%  711.00us
 75.000%    1.02ms
 90.000%    1.88ms
 99.000%    6.23ms
 99.900%    9.87ms
 99.990%   10.38ms
 99.999%   10.53ms
100.000%   10.57ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.018     0.000000            2         1.00
       0.178     0.100000       186967         1.11
       0.321     0.200000       373849         1.25
       0.454     0.300000       561273         1.43
       0.584     0.400000       747714         1.67
       0.711     0.500000       933660         2.00
       0.775     0.550000      1027661         2.22
       0.838     0.600000      1121273         2.50
       0.899     0.650000      1213409         2.86
       0.960     0.700000      1306959         3.33
       1.020     0.750000      1400331         4.00
       1.050     0.775000      1447244         4.44
       1.082     0.800000      1493445         5.00
       1.178     0.825000      1540257         5.71
       1.297     0.850000      1586646         6.67
       1.493     0.875000      1633467         8.00
       1.636     0.887500      1656667         8.89
       1.876     0.900000      1680034        10.00
       2.115     0.912500      1703413        11.43
       2.417     0.925000      1726649        13.33
       2.691     0.937500      1750109        16.00
       2.817     0.943750      1761824        17.78
       3.001     0.950000      1773343        20.00
       3.197     0.956250      1785044        22.86
       3.419     0.962500      1796657        26.67
       3.703     0.968750      1808300        32.00
       3.871     0.971875      1814177        35.56
       4.055     0.975000      1819993        40.00
       4.307     0.978125      1825877        45.71
       4.615     0.981250      1831662        53.33
       5.187     0.984375      1837511        64.00
       5.419     0.985938      1840395        71.11
       5.675     0.987500      1843322        80.00
       5.951     0.989062      1846234        91.43
       6.491     0.990625      1849133       106.67
       7.291     0.992188      1852060       128.00
       7.623     0.992969      1853522       142.22
       7.887     0.993750      1855024       160.00
       8.159     0.994531      1856431       182.86
       8.439     0.995313      1857929       213.33
       8.727     0.996094      1859375       256.00
       8.879     0.996484      1860098       284.44
       9.087     0.996875      1860807       320.00
       9.255     0.997266      1861554       365.71
       9.431     0.997656      1862292       426.67
       9.623     0.998047      1863043       512.00
       9.671     0.998242      1863397       568.89
       9.719     0.998437      1863715       640.00
       9.783     0.998633      1864138       731.43
       9.831     0.998828      1864475       853.33
       9.871     0.999023      1864831      1024.00
       9.887     0.999121      1865033      1137.78
       9.903     0.999219      1865185      1280.00
       9.927     0.999316      1865412      1462.86
       9.943     0.999414      1865595      1706.67
       9.975     0.999512      1865746      2048.00
       9.991     0.999561      1865854      2275.56
      10.007     0.999609      1865935      2560.00
      10.031     0.999658      1866005      2925.71
      10.071     0.999707      1866094      3413.33
      10.127     0.999756      1866183      4096.00
      10.167     0.999780      1866226      4551.11
      10.199     0.999805      1866278      5120.00
      10.239     0.999829      1866316      5851.43
      10.311     0.999854      1866359      6826.67
      10.351     0.999878      1866426      8192.00
      10.351     0.999890      1866426      9102.22
      10.383     0.999902      1866451     10240.00
      10.415     0.999915      1866473     11702.86
      10.455     0.999927      1866498     13653.33
      10.471     0.999939      1866524     16384.00
      10.479     0.999945      1866537     18204.44
      10.487     0.999951      1866567     20480.00
      10.487     0.999957      1866567     23405.71
      10.487     0.999963      1866567     27306.67
      10.495     0.999969      1866585     32768.00
      10.495     0.999973      1866585     36408.89
      10.503     0.999976      1866591     40960.00
      10.511     0.999979      1866597     46811.43
      10.511     0.999982      1866597     54613.33
      10.519     0.999985      1866603     65536.00
      10.527     0.999986      1866608     72817.78
      10.535     0.999988      1866613     81920.00
      10.535     0.999989      1866613     93622.86
      10.543     0.999991      1866619    109226.67
      10.543     0.999992      1866619    131072.00
      10.543     0.999993      1866619    145635.56
      10.551     0.999994      1866624    163840.00
      10.551     0.999995      1866624    187245.71
      10.551     0.999995      1866624    218453.33
      10.551     0.999996      1866624    262144.00
      10.559     0.999997      1866629    291271.11
      10.559     0.999997      1866629    327680.00
      10.559     0.999997      1866629    374491.43
      10.559     0.999998      1866629    436906.67
      10.559     0.999998      1866629    524288.00
      10.559     0.999998      1866629    582542.22
      10.559     0.999998      1866629    655360.00
      10.559     0.999999      1866629    748982.86
      10.559     0.999999      1866629    873813.33
      10.567     0.999999      1866631   1048576.00
      10.567     1.000000      1866631          inf
#[Mean    =        0.959, StdDeviation   =        1.131]
#[Max     =       10.560, Total count    =      1866631]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  2316804 requests in 1.00m, 148.03MB read
  Socket errors: connect 0, read 0, write 0, timeout 4
Requests/sec:  38610.40
Transfer/sec:      2.47MB


alina@alina-VivoBook-ASUSLaptop-X580GD-N580GD:~/Home/technopolis/2022-highload-dht/async-profiler$ wrk -t 1 -c 1 -d 1m -R 50000 -s put.lua -L http://localhost:19234
Running 1m test @ http://localhost:19234
  1 threads and 1 connections
  Thread calibration: mean lat.: 484.386ms, rate sampling interval: 1346ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.94s   701.81ms   3.16s    55.98%
    Req/Sec    44.51k    10.86k   48.25k    94.59%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.95s
 75.000%    2.54s
 90.000%    2.90s
 99.000%    3.13s
 99.900%    3.15s
 99.990%    3.16s
 99.999%    3.16s
100.000%    3.16s

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

     726.527     0.000000          481         1.00
     961.535     0.100000       221634         1.11
    1171.455     0.200000       444255         1.25
    1428.479     0.300000       665325         1.43
    1707.007     0.400000       887049         1.67
    1952.767     0.500000      1108674         2.00
    2077.695     0.550000      1218630         2.22
    2183.167     0.600000      1329494         2.50
    2310.143     0.650000      1440915         2.86
    2420.735     0.700000      1552824         3.33
    2537.471     0.750000      1662399         4.00
    2613.247     0.775000      1718954         4.44
    2664.447     0.800000      1773484         5.00
    2721.791     0.825000      1828119         5.71
    2775.039     0.850000      1884513         6.67
    2844.671     0.875000      1939547         8.00
    2873.343     0.887500      1968102         8.89
    2904.063     0.900000      1995465        10.00
    2930.687     0.912500      2021687        11.43
    2959.359     0.925000      2049576        13.33
    2988.031     0.937500      2077802        16.00
    3004.415     0.943750      2091598        17.78
    3018.751     0.950000      2105844        20.00
    3033.087     0.956250      2118739        22.86
    3053.567     0.962500      2135691        26.67
    3069.951     0.968750      2146654        32.00
    3080.191     0.971875      2155115        35.56
    3086.335     0.975000      2161060        40.00
    3094.527     0.978125      2169727        45.71
    3100.671     0.981250      2175411        53.33
    3106.815     0.984375      2181631        64.00
    3110.911     0.985938      2185608        71.11
    3112.959     0.987500      2187887        80.00
    3123.199     0.989062      2191823        91.43
    3129.343     0.990625      2196305       106.67
    3131.391     0.992188      2198293       128.00
    3133.439     0.992969      2200275       142.22
    3135.487     0.993750      2202278       160.00
    3137.535     0.994531      2204408       182.86
    3139.583     0.995313      2206237       213.33
    3141.631     0.996094      2208125       256.00
    3141.631     0.996484      2208125       284.44
    3143.679     0.996875      2209567       320.00
    3143.679     0.997266      2209567       365.71
    3145.727     0.997656      2210935       426.67
    3147.775     0.998047      2212217       512.00
    3147.775     0.998242      2212217       568.89
    3147.775     0.998437      2212217       640.00
    3149.823     0.998633      2213637       731.43
    3149.823     0.998828      2213637       853.33
    3149.823     0.999023      2213637      1024.00
    3149.823     0.999121      2213637      1137.78
    3151.871     0.999219      2214261      1280.00
    3151.871     0.999316      2214261      1462.86
    3151.871     0.999414      2214261      1706.67
    3153.919     0.999512      2214649      2048.00
    3153.919     0.999561      2214649      2275.56
    3155.967     0.999609      2215460      2560.00
    3155.967     0.999658      2215460      2925.71
    3155.967     0.999707      2215460      3413.33
    3155.967     0.999756      2215460      4096.00
    3155.967     0.999780      2215460      4551.11
    3155.967     0.999805      2215460      5120.00
    3155.967     0.999829      2215460      5851.43
    3155.967     0.999854      2215460      6826.67
    3155.967     0.999878      2215460      8192.00
    3155.967     0.999890      2215460      9102.22
    3155.967     0.999902      2215460     10240.00
    3155.967     0.999915      2215460     11702.86
    3155.967     0.999927      2215460     13653.33
    3155.967     0.999939      2215460     16384.00
    3155.967     0.999945      2215460     18204.44
    3155.967     0.999951      2215460     20480.00
    3155.967     0.999957      2215460     23405.71
    3155.967     0.999963      2215460     27306.67
    3155.967     0.999969      2215460     32768.00
    3155.967     0.999973      2215460     36408.89
    3158.015     0.999976      2215520     40960.00
    3158.015     1.000000      2215520          inf
#[Mean    =     1935.459, StdDeviation   =      701.805]
#[Max     =     3155.968, Total count    =      2215520]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  2679463 requests in 1.00m, 171.21MB read
  Socket errors: connect 0, read 0, write 0, timeout 1
Requests/sec:  44654.17
Transfer/sec:      2.85MB

alina@alina-VivoBook-ASUSLaptop-X580GD-N580GD:~/Home/technopolis/2022-highload-dht/async-profiler$ wrk -t 1 -c 1 -d 1m -R 46000 -s put.lua -L http://localhost:19234
Running 1m test @ http://localhost:19234
  1 threads and 1 connections
  Thread calibration: mean lat.: 114.967ms, rate sampling interval: 341ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     2.89ms    5.40ms  35.62ms   90.94%
    Req/Sec    24.56k    22.95k   47.71k    52.74%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.90ms
 75.000%    2.43ms
 90.000%    7.16ms
 99.000%   28.01ms
 99.900%   34.91ms
 99.990%   35.58ms
 99.999%   35.65ms
100.000%   35.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.018     0.000000            7         1.00
       0.230     0.100000       122552         1.11
       0.410     0.200000       244944         1.25
       0.573     0.300000       366508         1.43
       0.736     0.400000       488598         1.67
       0.896     0.500000       611162         2.00
       0.975     0.550000       671910         2.22
       1.050     0.600000       732776         2.50
       1.205     0.650000       793878         2.86
       1.623     0.700000       854926         3.33
       2.431     0.750000       916025         4.00
       2.803     0.775000       946491         4.44
       3.247     0.800000       977055         5.00
       3.745     0.825000      1007594         5.71
       4.543     0.850000      1038095         6.67
       5.739     0.875000      1068571         8.00
       6.291     0.887500      1083859         8.89
       7.163     0.900000      1099114        10.00
       9.431     0.912500      1114367        11.43
      11.663     0.925000      1129670        13.33
      13.263     0.937500      1145029        16.00
      14.031     0.943750      1152535        17.78
      15.191     0.950000      1160190        20.00
      16.671     0.956250      1167840        22.86
      18.255     0.962500      1175593        26.67
      20.175     0.968750      1183147        32.00
      21.055     0.971875      1186912        35.56
      22.191     0.975000      1190873        40.00
      22.511     0.978125      1194533        45.71
      23.327     0.981250      1198377        53.33
      24.399     0.984375      1202152        64.00
      25.935     0.985938      1204055        71.11
      26.959     0.987500      1205996        80.00
      27.679     0.989062      1207909        91.43
      28.463     0.990625      1209780       106.67
      29.791     0.992188      1211700       128.00
      30.159     0.992969      1212646       142.22
      30.719     0.993750      1213622       160.00
      30.991     0.994531      1214612       182.86
      31.183     0.995313      1215559       213.33
      31.455     0.996094      1216481       256.00
      31.695     0.996484      1216937       284.44
      32.207     0.996875      1217431       320.00
      32.799     0.997266      1217896       365.71
      33.375     0.997656      1218410       426.67
      33.855     0.998047      1218885       512.00
      34.047     0.998242      1219084       568.89
      34.271     0.998437      1219323       640.00
      34.527     0.998633      1219563       731.43
      34.719     0.998828      1219814       853.33
      34.943     0.999023      1220057      1024.00
      35.071     0.999121      1220220      1137.78
      35.135     0.999219      1220282      1280.00
      35.199     0.999316      1220388      1462.86
      35.327     0.999414      1220560      1706.67
      35.423     0.999512      1220692      2048.00
      35.423     0.999561      1220692      2275.56
      35.455     0.999609      1220765      2560.00
      35.487     0.999658      1220819      2925.71
      35.519     0.999707      1220912      3413.33
      35.551     0.999756      1221069      4096.00
      35.551     0.999780      1221069      4551.11
      35.551     0.999805      1221069      5120.00
      35.551     0.999829      1221069      5851.43
      35.551     0.999854      1221069      6826.67
      35.583     0.999878      1221142      8192.00
      35.583     0.999890      1221142      9102.22
      35.583     0.999902      1221142     10240.00
      35.583     0.999915      1221142     11702.86
      35.583     0.999927      1221142     13653.33
      35.615     0.999939      1221191     16384.00
      35.615     0.999945      1221191     18204.44
      35.615     0.999951      1221191     20480.00
      35.615     0.999957      1221191     23405.71
      35.615     0.999963      1221191     27306.67
      35.615     0.999969      1221191     32768.00
      35.615     0.999973      1221191     36408.89
      35.647     0.999976      1221222     40960.00
      35.647     1.000000      1221222          inf
#[Mean    =        2.887, StdDeviation   =        5.405]
#[Max     =       35.616, Total count    =      1221222]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  1680351 requests in 1.00m, 107.37MB read
  Socket errors: connect 0, read 0, write 0, timeout 11
Requests/sec:  28003.48
Transfer/sec:      1.79MB


       bytes  percent  samples  top
  ----------  -------  -------  ---
    95979536   12.90%        0  one.nio.util.Utf8.toAsciiString
    68136840    9.16%        0  one.nio.http.Request.<init>
    66780032    8.98%        0  jdk.internal.foreign.HeapMemorySegmentImpl$OfByte.fromArray
    66343016    8.92%        0  one.nio.http.Response.<init>
    64262904    8.64%        0  one.nio.util.ByteArrayBuilder.<init>
    60740096    8.16%        0  java.util.Arrays.copyOfRange
    54297296    7.30%        0  ok.dht.test.shestakova.DemoService.handlePut
    50938968    6.85%        0  java.lang.invoke.DirectMethodHandle.allocateInstance
    48346032    6.50%        0  java.lang.StringLatin1.newString
    31067456    4.18%        0  one.nio.http.HttpSession.startParsingRequestBody
    29884416    4.02%        0  one.nio.net.Session.write
    29677904    3.99%        0  one.nio.net.NativeSelector.select
    26589112    3.57%        0  one.nio.http.HttpSession.parseRequest
    23482032    3.16%        0  java.util.Arrays.copyOf
    21758816    2.92%        0  java.util.concurrent.ConcurrentSkipListMap.doPut
     2288184    0.31%        0  jdk.internal.foreign.MappedMemorySegmentImpl.dup
     1447128    0.19%        0  java.lang.AbstractStringBuilder.<init>
      482368    0.06%        0  one.nio.http.Response.toBytes
      479400    0.06%        0  [no_Java_frame]
      230664    0.03%        0  sun.nio.fs.UnixPath.resolve
      181752    0.02%        0  java.lang.Object.clone
      140288    0.02%        0  java.util.concurrent.ConcurrentSkipListMap.values
      134904    0.02%        0  jdk.internal.org.objectweb.asm.ClassWriter.visitMethod
      102896    0.01%        0  jdk.internal.org.objectweb.asm.ByteVector.enlarge
      101912    0.01%        0  jdk.internal.org.objectweb.asm.SymbolTable.addConstantUtf8Reference
       52048    0.01%        0  sun.nio.fs.UnixFileAttributes.get
       34584    0.00%        0  java.util.Spliterators.spliteratorUnknownSize
       34560    0.00%        0  sun.nio.ch.FileChannelImpl.<init>
       30880    0.00%        0  sun.nio.ch.FileChannelImpl.open
       12904    0.00%        0  jdk.internal.org.objectweb.asm.ByteVector.<init>
        4096    0.00%        0  jdk.internal.foreign.MappedMemorySegmentImpl.makeMappedSegment
        2048    0.00%        0  ok.dht.test.shestakova.dao.Storage.getFilesCount
        2048    0.00%        0  jdk.internal.org.objectweb.asm.SymbolTable.addType
        2048    0.00%        0  jdk.internal.foreign.SharedScope.isAlive
        2048    0.00%        0  sun.nio.fs.UnixChannelFactory.open
